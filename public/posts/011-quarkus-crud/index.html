<!DOCTYPE html>















<html lang="tr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>Quarkus Crud - &lt; ahmetkaygisiz /&gt;</title>

  
  
  <meta name="description" content="Merhabalar,
Quarkus Framework&rsquo;ünün fantastikliğinden bir önceki yazıda bahsetmiştik. Şimdi bu framework ile basit bir crud uygulamasını nasıl yaparız buna bakalım.
Projenin Oluşturulması Projeyi oluşturmadan önce versiyon gereksinimleri aşağıdaki gibi olmalıdır.
 java -version -&gt; 8 veya 11 mvn -version -&gt; 3.6.2&#43; JAVA_HOME ortam değişkeni tanımlı olmalı  Projemizi oluşturmak için aşağıdaki komutu giriyoruz.
mvn io.io.quarkus:quarkus-maven-plugin:1.10.5.Final:create \  -DprojectGroupId=com.akua \  -DprojectArtifactId=quarkus-tutorial \  -DclassName=&#34;com.akua.resources.UserResources&#34; \  -Dpath=&#34;/users&#34; Herhangi bir ekleme yapmadan quarkusun bize sunmuş olduğu dosya yapısı aşağıdaki şekildedir." />
  <meta name="author" content="" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/app.min.css" />

  
  <link rel="preload stylesheet" as="style" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/an-old-hope.min.css" />
  <script
    defer
    src="http://sag.click.s3-website.eu-central-1.amazonaws.com/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  <link rel="preload" as="image" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/theme.png" />

  
  <link rel="preload" as="image" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/twitter.svg" />
  
  <link rel="preload" as="image" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/github.svg" />
  

  
  <link rel="icon" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/favicon.ico" />
  <link rel="apple-touch-icon" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.80.0" />

  
  

  
  
  
  
  
  
  
  
  
  <meta property="og:title" content="Quarkus Crud" />
<meta property="og:description" content="Merhabalar,
Quarkus Framework&rsquo;ünün fantastikliğinden bir önceki yazıda bahsetmiştik. Şimdi bu framework ile basit bir crud uygulamasını nasıl yaparız buna bakalım.
Projenin Oluşturulması Projeyi oluşturmadan önce versiyon gereksinimleri aşağıdaki gibi olmalıdır.
 java -version -&gt; 8 veya 11 mvn -version -&gt; 3.6.2&#43; JAVA_HOME ortam değişkeni tanımlı olmalı  Projemizi oluşturmak için aşağıdaki komutu giriyoruz.
mvn io.io.quarkus:quarkus-maven-plugin:1.10.5.Final:create \  -DprojectGroupId=com.akua \  -DprojectArtifactId=quarkus-tutorial \  -DclassName=&#34;com.akua.resources.UserResources&#34; \  -Dpath=&#34;/users&#34; Herhangi bir ekleme yapmadan quarkusun bize sunmuş olduğu dosya yapısı aşağıdaki şekildedir." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://sag.click.s3-website.eu-central-1.amazonaws.com/posts/011-quarkus-crud/" />
<meta property="article:published_time" content="2021-02-10T18:12:48+03:00" />
<meta property="article:modified_time" content="2021-02-10T18:12:48+03:00" />

  
  <meta itemprop="name" content="Quarkus Crud">
<meta itemprop="description" content="Merhabalar,
Quarkus Framework&rsquo;ünün fantastikliğinden bir önceki yazıda bahsetmiştik. Şimdi bu framework ile basit bir crud uygulamasını nasıl yaparız buna bakalım.
Projenin Oluşturulması Projeyi oluşturmadan önce versiyon gereksinimleri aşağıdaki gibi olmalıdır.
 java -version -&gt; 8 veya 11 mvn -version -&gt; 3.6.2&#43; JAVA_HOME ortam değişkeni tanımlı olmalı  Projemizi oluşturmak için aşağıdaki komutu giriyoruz.
mvn io.io.quarkus:quarkus-maven-plugin:1.10.5.Final:create \  -DprojectGroupId=com.akua \  -DprojectArtifactId=quarkus-tutorial \  -DclassName=&#34;com.akua.resources.UserResources&#34; \  -Dpath=&#34;/users&#34; Herhangi bir ekleme yapmadan quarkusun bize sunmuş olduğu dosya yapısı aşağıdaki şekildedir.">
<meta itemprop="datePublished" content="2021-02-10T18:12:48+03:00" />
<meta itemprop="dateModified" content="2021-02-10T18:12:48+03:00" />
<meta itemprop="wordCount" content="1340">



<meta itemprop="keywords" content="java,quarkus,crud," />

  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Quarkus Crud"/>
<meta name="twitter:description" content="Merhabalar,
Quarkus Framework&rsquo;ünün fantastikliğinden bir önceki yazıda bahsetmiştik. Şimdi bu framework ile basit bir crud uygulamasını nasıl yaparız buna bakalım.
Projenin Oluşturulması Projeyi oluşturmadan önce versiyon gereksinimleri aşağıdaki gibi olmalıdır.
 java -version -&gt; 8 veya 11 mvn -version -&gt; 3.6.2&#43; JAVA_HOME ortam değişkeni tanımlı olmalı  Projemizi oluşturmak için aşağıdaki komutu giriyoruz.
mvn io.io.quarkus:quarkus-maven-plugin:1.10.5.Final:create \  -DprojectGroupId=com.akua \  -DprojectArtifactId=quarkus-tutorial \  -DclassName=&#34;com.akua.resources.UserResources&#34; \  -Dpath=&#34;/users&#34; Herhangi bir ekleme yapmadan quarkusun bize sunmuş olduğu dosya yapısı aşağıdaki şekildedir."/>

  
  
</head>


  <body class="not-ready" data-menu="true">
    <header class="header">
  
  <p class="logo">
    <a class="site-name" href="http://sag.click.s3-website.eu-central-1.amazonaws.com">&lt; ahmetkaygisiz /&gt;</a><a class="btn-dark"></a>
  </p>
  

  <script>
    let bodyClx = document.body.classList;
    let btnDark = document.querySelector('.btn-dark');
    let sysDark = window.matchMedia('(prefers-color-scheme: dark)');
    let darkVal = localStorage.getItem('dark');

    let setDark = (isDark) => {
      bodyClx[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark ? 'yes' : 'no');
    };

    setDark(darkVal ? darkVal === 'yes' : sysDark.matches);
    requestAnimationFrame(() => bodyClx.remove('not-ready'));

    btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
    sysDark.addEventListener('change', (event) => setDark(event.matches));
  </script>

  
  
  <nav class="menu" style="padding-left: 13%;font-weight: bold;">
    
    <a class="" href="/">cd ~</a>
    
    <a class="" href="/whoami/">whoami</a>
    
    <a class="" href="/categorylist/">categories</a>
    
  </nav>
  

  
  <nav class="social">
    
    <a
      class="twitter"
      style="--url: url(./twitter.svg)"
      href="https://twitter.com/kaaygisiz"
      target="_blank"
    ></a>
    
    <a
      class="github"
      style="--url: url(./github.svg)"
      href="https://github.com/ahmetkaygisiz"
      target="_blank"
    ></a>
    
  </nav>
  
</header>


    <main class="main">

<article class="post-single">
  <header class="post-title">
    <p>
      
      <time datetime="2021-02-10 18:12:48 &#43;0300 &#43;03">10 Feb 2021</time>
      
      
    </p>
    <h1>Quarkus Crud</h1>
  </header>
  <section class="post-content"><p>Merhabalar,<br>
Quarkus Framework&rsquo;ünün fantastikliğinden bir önceki yazıda bahsetmiştik. Şimdi bu framework ile basit bir crud uygulamasını nasıl yaparız buna bakalım.</p>
<h3 id="projenin-oluşturulması">Projenin Oluşturulması</h3>
<p>Projeyi oluşturmadan önce versiyon gereksinimleri aşağıdaki gibi olmalıdır.</p>
<ul>
<li>java -version -&gt; 8 veya 11</li>
<li>mvn -version -&gt;  3.6.2+</li>
<li>JAVA_HOME ortam değişkeni tanımlı olmalı</li>
</ul>
<p>Projemizi oluşturmak için aşağıdaki komutu giriyoruz.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn io.io.quarkus:quarkus-maven-plugin:1.10.5.Final:create <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -DprojectGroupId<span style="color:#f92672">=</span>com.akua <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -DprojectArtifactId<span style="color:#f92672">=</span>quarkus-tutorial <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -DclassName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;com.akua.resources.UserResources&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -Dpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/users&#34;</span>
</code></pre></div><p>Herhangi bir ekleme yapmadan quarkusun bize sunmuş olduğu dosya yapısı aşağıdaki şekildedir. Görüldüğü gibi bize src/main/docker folder&rsquo;ı altında hazır 3 adet Dockerfile sunuyor. pom.xml içerisinde de eklentiler, profil, temel gerekli olan bağımlılıklar ve tanımlamalar başlangıç yapısında bizi karşılıyor.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> kaygisiz λ quarkus-tutorial ➜ tree .
.
|-- README.md
|-- mvnw
|-- mvnw.cmd
|-- pom.xml
<span style="color:#e6db74">`</span>-- src
    |-- main
    |   |-- docker
    |   |   |-- Dockerfile.fast-jar
    |   |   |-- Dockerfile.jvm
    |   |   <span style="color:#e6db74">`</span>-- Dockerfile.native
    |   |-- java
    |   |   <span style="color:#e6db74">`</span>-- com
    |   |       <span style="color:#e6db74">`</span>-- akua
    |   |           <span style="color:#e6db74">`</span>-- resources
    |   |               <span style="color:#e6db74">`</span>-- UserResources.java
    |   <span style="color:#e6db74">`</span>-- resources
    |       |-- META-INF
    |       |   <span style="color:#e6db74">`</span>-- resources
    |       |       <span style="color:#e6db74">`</span>-- index.html
    |       <span style="color:#e6db74">`</span>-- application.properties
    <span style="color:#e6db74">`</span>-- test
        <span style="color:#e6db74">`</span>-- java
            <span style="color:#e6db74">`</span>-- com
                <span style="color:#e6db74">`</span>-- akua
                    <span style="color:#e6db74">`</span>-- resources
                        |-- NativeUserResourcesIT.java
                        <span style="color:#e6db74">`</span>-- UserResourcesTest.java

<span style="color:#ae81ff">15</span> directories, <span style="color:#ae81ff">12</span> files
</code></pre></div><p>Geliştireceğimiz uygulama RESTful bir servis olacak ve postgresql kullanacağız. Bunun için bazı bağımlılıkları pom.xml dosyamıza eklemeliyiz. Bu bağımlılıklar sırasıyla:</p>
<ul>
<li>jdbc-postgresql : Postgresql Veritabanı Bağımlılığı</li>
<li>agroal : JDBC Pool Yönetimi</li>
<li>resteasy-jackson : Serialize/Deserialize</li>
</ul>
<p>Projeye başlangıçta bu bağımlılıkları -Dextensions= parametresiyle ekleyebileceğimiz gibi  ./mvnw quarkus:add-extension -Dextensions= komutunu kullanarak da ekleyebiliyoruz. Şimdi ihtiyacımız olan parametreleri ekleyelim ve X has been installed çıktılarını görelim.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./mvnw quarkus:add-extension -Dextensions<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jdbc-postgresql,agroal,resteasy-jackson&#34;</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> kaygisiz λ quarkus-tutorial ➜ ./mvnw quarkus:add-extension -Dextensions<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jdbc-postgresql,agroal,resteasy-jackson&#34;</span>
....
<span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> --- quarkus-maven-plugin:1.10.5.Final:add-extension <span style="color:#f92672">(</span>default-cli<span style="color:#f92672">)</span> @ quarkus-tutorial ---
? Extension io.quarkus:quarkus-resteasy-jackson has been installed
? Extension io.quarkus:quarkus-agroal has been installed
? Extension io.quarkus:quarkus-jdbc-postgresql has been installed
<span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> ------------------------------------------------------------------------
<span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> BUILD SUCCESS
...
</code></pre></div><p><img src="/011-quarkus-tutorial-project-structure.png" alt="Uygulama Yapısı"></p>
<center>Uygulama Yapısı</center>
<p>Geliştireceğimiz uygulama yapısı yukarıdaki gibi olacak. api&rsquo;mizin bir String mesaj döneceği Response, temel veri yapımız User, veritabanı ile ilişkilerin yönetileceği Manager ve Repository classları ve son olarak endpointlerin yönetileceği controller yapısındaki resource.</p>
<p>İlk adım olarak application.properties dosyamıza veritabanı için gerekli değişkenlerimizi giriyoruz.</p>
<p>application.properties</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#ae81ff">quarkus.datasource.db-kind=postgresql</span>
<span style="color:#ae81ff">quarkus.datasource.username=postgres</span>
<span style="color:#ae81ff">quarkus.datasource.password=${your_password}</span>

<span style="color:#ae81ff">quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/temp</span>
<span style="color:#ae81ff">quarkus.datasource.jdbc.max-size=16</span>
<span style="color:#ae81ff">İkinci adım olarak POJO&#39;muzu oluşturalım.</span>
</code></pre></div><p>domain/User.java</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.akua.domain<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.util.UUID<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> UUID id<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> String email<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> String password<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>UUID id<span style="color:#f92672">,</span> String email<span style="color:#f92672">,</span> String password<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">email</span> <span style="color:#f92672">=</span> email<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> UUID <span style="color:#a6e22e">getId</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> id<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setId</span><span style="color:#f92672">(</span>UUID id<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getEmail</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> email<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setEmail</span><span style="color:#f92672">(</span>String email<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">email</span> <span style="color:#f92672">=</span> email<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getPassword</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span>String password<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> Object<span style="color:#f92672">[]</span> <span style="color:#a6e22e">toObjectArray</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">[]</span> <span style="color:#f92672">{</span> email<span style="color:#f92672">,</span> password <span style="color:#f92672">};</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Veritabanı bağlantılarını oluşturmalıyız. Burada bağlantı yönetimi ve prepared statement yönetimi için base classımız olan DBManager&rsquo;ı oluşturuyoruz. Burada Dependency Injection @ApplicationScoped ile yapılıyor yani bu nesnenin yönetimi artık framework yönetimine geçiyor. Bu objeden bir tane oluşturuluyor ve @Inject annotation&rsquo;ı tek oluşturulan bu nesne çağırılıp farklı classlarda kullanılabilir hale geliyor.</p>
<p>DataSource objesi, application properties&rsquo;de bilgilerini verdiğimiz veritabanına göre agroal JDBC yöneticisi tarafından oluşturuluyor ve bize @Inject annotation&rsquo;ı ile bu veritabanı üzerinde işlem yapabilmemize olanak sağlıyor.</p>
<p>repository/manager/DBManager.java</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.akua.repository.manager<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.enterprise.context.ApplicationScoped<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.inject.Inject<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.sql.DataSource<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.Connection<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.PreparedStatement<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.SQLException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@ApplicationScoped</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DBManager</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Inject</span>
    <span style="color:#66d9ef">private</span> DataSource dataSource<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">private</span> Connection conn<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">connect</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        conn <span style="color:#f92672">=</span> dataSource<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span> conn <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span>
            conn<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> PreparedStatement <span style="color:#a6e22e">getPreparedStatement</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">prepareStatement</span><span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> PreparedStatement <span style="color:#a6e22e">getPreparedStatementWithParams</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">,</span> Object<span style="color:#f92672">[]</span> params<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        PreparedStatement ps <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">prepareStatement</span><span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i<span style="color:#f92672">&lt;</span> params<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            ps<span style="color:#f92672">.</span><span style="color:#a6e22e">setObject</span><span style="color:#f92672">(</span>i <span style="color:#f92672">+</span> 1<span style="color:#f92672">,</span> params<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
        <span style="color:#f92672">}</span>

        <span style="color:#66d9ef">return</span> ps<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">executePS</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        PreparedStatement ps <span style="color:#f92672">=</span> getPreparedStatement<span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">boolean</span> status <span style="color:#f92672">=</span> ps<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">();</span>
        ps<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> status<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">executePSWithParams</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">,</span> Object<span style="color:#f92672">[]</span> params<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        PreparedStatement ps <span style="color:#f92672">=</span> getPreparedStatementWithParams<span style="color:#f92672">(</span>query<span style="color:#f92672">,</span> params<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">int</span> status <span style="color:#f92672">=</span> ps<span style="color:#f92672">.</span><span style="color:#a6e22e">executeUpdate</span><span style="color:#f92672">();</span>
        ps<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> status<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>User için gerekli bir kaç method&rsquo;un eklendiği UserDBManager class&rsquo;ımız da aşağıdaki gibidir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.akua.repository.manager<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> com.akua.domain.User<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.enterprise.context.ApplicationScoped<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.PreparedStatement<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.ResultSet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.SQLException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.ArrayList<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.UUID<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@ApplicationScoped</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserDBManager</span> <span style="color:#66d9ef">extends</span> DBManager<span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getResultSet</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        PreparedStatement ps <span style="color:#f92672">=</span> getPreparedStatement<span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
        ResultSet rs <span style="color:#f92672">=</span> ps<span style="color:#f92672">.</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> resultSetToOArrayList<span style="color:#f92672">(</span>rs<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getResultSetWithParams</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">,</span> Object<span style="color:#f92672">[]</span> params<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span>  SQLException <span style="color:#f92672">{</span>
        ResultSet rs <span style="color:#f92672">=</span> getPreparedStatementWithParams<span style="color:#f92672">(</span>query<span style="color:#f92672">,</span> params<span style="color:#f92672">).</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> resultSetToOArrayList<span style="color:#f92672">(</span>rs<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">resultSetToOArrayList</span><span style="color:#f92672">(</span>ResultSet rs<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> dataList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>

        <span style="color:#66d9ef">while</span><span style="color:#f92672">(</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">()</span> <span style="color:#f92672">){</span>
            User user <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>

            user<span style="color:#f92672">.</span><span style="color:#a6e22e">setId</span><span style="color:#f92672">((</span>UUID<span style="color:#f92672">)</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getObject</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">));</span>
            user<span style="color:#f92672">.</span><span style="color:#a6e22e">setEmail</span><span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getString</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;email&#34;</span><span style="color:#f92672">));</span>
            user<span style="color:#f92672">.</span><span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getString</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">));</span>

            dataList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>user<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        rs<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> dataList<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>PreparedStatement&rsquo;ın yürütülüp ve bize sonuç döndüren repository classımız da şu şekil.</p>
<p>repository/UserRepository.java</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.akua.repository<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> com.akua.domain.User<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.akua.repository.manager.UserDBManager<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.enterprise.context.ApplicationScoped<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.sql.SQLException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.UUID<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@ApplicationScoped</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserRepository</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String USERS_FIND_BY_ID <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;SELECT * FROM users WHERE id = ?&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String USERS_FIND_ALL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;SELECT * FROM users&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String USERS_INSERT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;INSERT INTO users (id, email, password) VALUES(?, ?, ?)&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String USERS_UPDATE <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UPDATE people SET name = ?, age = ? WHERE id = ?&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String USERS_DELETE_BY_ID <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;DELETE FROM users WHERE id = ?&#34;</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> UserDBManager manager<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">UserRepository</span><span style="color:#f92672">(</span>UserDBManager manager<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">manager</span> <span style="color:#f92672">=</span> manager<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> getQueryResults<span style="color:#f92672">(</span>USERS_FIND_ALL<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">){</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>


    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findById</span><span style="color:#f92672">(</span>UUID id<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> getUserById<span style="color:#f92672">(</span>USERS_FIND_BY_ID<span style="color:#f92672">,</span> id<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">insert</span><span style="color:#f92672">(</span>User user<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> executeQueryWithParams<span style="color:#f92672">(</span>USERS_INSERT<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">[]{</span>
                    user<span style="color:#f92672">.</span><span style="color:#a6e22e">getId</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getEmail</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getPassword</span><span style="color:#f92672">()});</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">update</span><span style="color:#f92672">(</span>User user<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> executeQueryWithParams<span style="color:#f92672">(</span>USERS_UPDATE<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">[]{</span>
                    user<span style="color:#f92672">.</span><span style="color:#a6e22e">getEmail</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getPassword</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getId</span><span style="color:#f92672">()</span>
            <span style="color:#f92672">});</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">deleteById</span><span style="color:#f92672">(</span>UUID id<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> executeQueryWithParams<span style="color:#f92672">(</span>USERS_DELETE_BY_ID<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">[]{</span> id <span style="color:#f92672">});</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">connect</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">boolean</span> isSucceed <span style="color:#f92672">=</span> manager<span style="color:#f92672">.</span><span style="color:#a6e22e">executePS</span><span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> isSucceed<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">executeQueryWithParams</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">,</span> Object<span style="color:#f92672">[]</span> params<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException<span style="color:#f92672">{</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">connect</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">int</span> isSucceed <span style="color:#f92672">=</span> manager<span style="color:#f92672">.</span><span style="color:#a6e22e">executePSWithParams</span><span style="color:#f92672">(</span>query<span style="color:#f92672">,</span> params<span style="color:#f92672">);</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> isSucceed<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getQueryResults</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException<span style="color:#f92672">{</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">connect</span><span style="color:#f92672">();</span>
        List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> users <span style="color:#f92672">=</span> manager<span style="color:#f92672">.</span><span style="color:#a6e22e">getResultSet</span><span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span>  users<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getUserById</span><span style="color:#f92672">(</span>String query<span style="color:#f92672">,</span> UUID id<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">connect</span><span style="color:#f92672">();</span>
        List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> user <span style="color:#f92672">=</span> manager<span style="color:#f92672">.</span><span style="color:#a6e22e">getResultSetWithParams</span><span style="color:#f92672">(</span>query<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">[]{</span> id <span style="color:#f92672">});</span>
        manager<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">return</span> user<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Bilgilendirme mesajlarımızı döneceğimiz Response classımız :</p>
<p>api/Response.java</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.akua.api<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Response</span> <span style="color:#f92672">{</span>
    String message<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Response</span><span style="color:#f92672">(</span>String message<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> message<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getMessage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> message<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setMessage</span><span style="color:#f92672">(</span>String message<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> message<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Son olarak uygulamızın etkileşime geçeceği Resourse yapısı da şöyle. Aşağıda da görüldüğü üzere GET, POST, PUT, DELETE işlemlerini yapan bir adet RESTful api yazmış olduk.</p>
<p>resource/UserResource.java</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.akua.resource<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> com.akua.api.Response<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.akua.domain.User<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.akua.repository.UserRepository<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.ws.rs.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.ws.rs.core.MediaType<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.UUID<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/users&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserResource</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> UserRepository userRepository<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">UserResource</span><span style="color:#f92672">(</span>UserRepository userRepository<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userRepository</span> <span style="color:#f92672">=</span> userRepository<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@GET</span>
    <span style="color:#a6e22e">@Produces</span><span style="color:#f92672">(</span>MediaType<span style="color:#f92672">.</span><span style="color:#a6e22e">APPLICATION_JSON</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">all</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@GET</span>
    <span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#a6e22e">@Produces</span><span style="color:#f92672">(</span>MediaType<span style="color:#f92672">.</span><span style="color:#a6e22e">APPLICATION_JSON</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@PathParam</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">)</span> UUID id<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">return</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">findById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@POST</span>
    <span style="color:#a6e22e">@Produces</span><span style="color:#f92672">(</span>MediaType<span style="color:#f92672">.</span><span style="color:#a6e22e">APPLICATION_JSON</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> Response <span style="color:#a6e22e">post</span><span style="color:#f92672">(</span>User user<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">int</span> status <span style="color:#f92672">=</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">insert</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> User<span style="color:#f92672">(</span>UUID<span style="color:#f92672">.</span><span style="color:#a6e22e">randomUUID</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getEmail</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getPassword</span><span style="color:#f92672">()));</span>

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>status <span style="color:#f92672">==</span> 1<span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Response<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;User created!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Response<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Something goes wrong&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@PUT</span>
    <span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#a6e22e">@Produces</span><span style="color:#f92672">(</span>MediaType<span style="color:#f92672">.</span><span style="color:#a6e22e">APPLICATION_JSON</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> Response <span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@PathParam</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">)</span> UUID id<span style="color:#f92672">,</span> User user<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">findById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">)</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">){</span>
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> NotFoundException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;User not found!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">int</span> status <span style="color:#f92672">=</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">update</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> User<span style="color:#f92672">(</span>id<span style="color:#f92672">,</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getEmail</span><span style="color:#f92672">(),</span> user<span style="color:#f92672">.</span><span style="color:#a6e22e">getPassword</span><span style="color:#f92672">()));</span>

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>status <span style="color:#f92672">==</span> 1<span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Response<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;User updated!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Response<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Something goes wrong&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@DELETE</span>
    <span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#a6e22e">@Produces</span><span style="color:#f92672">(</span>MediaType<span style="color:#f92672">.</span><span style="color:#a6e22e">APPLICATION_JSON</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> Response <span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@PathParam</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">)</span> UUID id<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">findById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">)</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">){</span>
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> NotFoundException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;User not found&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">int</span> status <span style="color:#f92672">=</span> userRepository<span style="color:#f92672">.</span><span style="color:#a6e22e">deleteById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>status <span style="color:#f92672">==</span> 1<span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Response<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;User deleted!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Response<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Something goes wrong&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="uygulamanın-ayağa-kaldırılması">Uygulamanın Ayağa Kaldırılması</h3>
<p>Quarkus&rsquo;un en güzel yanlarından biri de development modda başlattığınızda backend&rsquo;de yaptığınız bir değişikliğin yeniden başlatmaya gerek duymadan uygulanması. Development mod&rsquo;da başlatmak için aşağıdaki komutu giriyoruz.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./mvnw compile quarkus:dev
</code></pre></div><h3 id="sonuç-ve-hedefler">Sonuç ve Hedefler</h3>
<p>Temel olarak bir CRUD uygulamayı geliştirdik ve ayağa kaldırdık. Quarkus ile olan maceralarımız burada bitmeyecek. Keşfetmemiz gereken native kısmını da ilerleyen yazılarda kurcalayıp asıl kullanılması gereken alanın neresi olduğunu göreceğiz. Başlangıç yapmış olduk geresini de getiririz umarım :)</p>
<p>Güzel günleri de görmek dileğiyle.</p>
</section>

  
  
  <footer class="post-tags">
     
    <a href="http://sag.click.s3-website.eu-central-1.amazonaws.com/tags/java">java</a>
     
    <a href="http://sag.click.s3-website.eu-central-1.amazonaws.com/tags/quarkus">quarkus</a>
     
    <a href="http://sag.click.s3-website.eu-central-1.amazonaws.com/tags/crud">crud</a>
    
  </footer>
  

  
  
  
  <nav class="post-nav">
    
    <a class="prev" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/posts/012-go-gopher-1/"><span>←</span><span>Go Gopher-I</span></a>
     
    <a class="next" href="http://sag.click.s3-website.eu-central-1.amazonaws.com/posts/010-quarkus-framework-nedir/"><span>Quarkus Framework Nedir</span><span>→</span></a>
    
  </nav>
  

</article>

</main>

    <footer class="footer">
  <p>&copy; 2022 <a href="http://sag.click.s3-website.eu-central-1.amazonaws.com">&lt; ahmetkaygisiz /&gt;</a></p>
  <p>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</p>
  <p>
    <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper 5.1</a>
  </p>
</footer>

  </body>
</html>
